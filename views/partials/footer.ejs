<div class="footer">
  <div class="container my-5">
    <div class="row">
      <div class="col-md-3 py-5">
        <img src="/images/logo-footer.svg" height="60" class="mb-3" alt="Logo">
        <h2 class="h4 fw6 txt-blue">AtypikHouse</h2>
        <p class="fw4 lh16 txt-green">Des séjours uniques dans des habitats insolites en pleine nature. Vivez une expérience inoubliable !</p>
        <p class="fw2 lh12 txt-green">Suivez-nous sur les réseaux sociaux :</p>
        <div class="social-media gap-2 d-flex">
          <a class="facebook" href="#"><i class="fa-brands fa-facebook-f"></i></a>
          <a class="instagram" href="https://www.instagram.com/atyyypikhouse/"><i class="fa-brands fa-instagram"></i></a>
          <a class="linkedin" href="#"><i class="fa-brands fa-linkedin-in"></i></a>
          <a class="tiktok" href="#"><i class="fa-brands fa-tiktok"></i></a>
        </div>
      </div>
      <div class="col-md-3 col-6 py-5">
        <p class="h4 fw6 txt-blue">Nous</p>
        <ul class="menu-footer">
          <li><a href="/">Accueil</a></li>
          <li><a href="/presentation">Présentation</a></li>
          <li><a href="/contact">Contactez-nous</a></li>
          <li><a href="/hote">Devenir hôte</a></li>
          <li><a href="/blog">Blog</a></li>
          <li><a href="/mentions-legales">Mentions légales</a></li>
        </ul>
      </div>
      <div class="col-md-3 col-6 py-5">
        <p class="h4 fw6 txt-blue">Nos services</p>
        <ul class="menu-footer">
          <li><a href="/register">Creer un compte</a></li>
          <li><a href="/profile">Mon profile</a></li>
          <li><a href="/reservation">Mes réservations</a></li>
          <li><a href="/sitemap.xml">Plan du site</a></li>
          <li><a href="/newsletter">Notre newsletter</a></li>
        </ul>
      </div>
      <div class="col-md-3 py-5">
        <p class="h4 fw6 txt-blue">Notre applications</p>
        <p class="my-3 lh16 txt-green">Vous pouvez facilement installer notre application à partir de votre navigateur.</p>
        <button class="add-to-home-btn btn btn-green-light txt-green"><i class="fa-solid fa-download me-2"></i> Installer notre Application</button>
      </div>
    </div>
  </div>
</div>
<footer class="bg-green text-center text-lg-start">
  <div class="text-center txt-white p-3">
    © 2024 AtypikHouse. Tous droits réservés.
  </div>
</footer>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- Popup de consentement des cookies -->
<div id="cookieConsent" class="cookie-consent">
  <p>Nous utilisons des cookies pour vous offrir la meilleure expérience sur notre site. En continuant, vous acceptez notre <a href="/privacy-policy" target="_blank">politique de confidentialité</a>.</p>
  <button id="acceptCookies" class="cookie-btn">Accepter</button>
  <button id="declineCookies" class="cookie-btn">Refuser</button>
</div>

<!-- Styles pour la popup des cookies -->
<style>
  .cookie-consent {
    display: none;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 15px;
    text-align: center;
    font-size: 14px;
    z-index: 9999;
  }
  .cookie-btn {
    background-color: #4CAF50;
    color: white;
    padding: 10px 15px;
    border: none;
    margin-left: 10px;
    cursor: pointer;
  }
  .cookie-btn:hover {
    background-color: #45a049;
  }
</style>

<script>
  // Vérifie si l'utilisateur a déjà donné son consentement
  const cookieConsent = document.getElementById('cookieConsent');
  const acceptCookiesBtn = document.getElementById('acceptCookies');
  const declineCookiesBtn = document.getElementById('declineCookies');

  // Fonction pour créer un cookie
  function setCookie(name, value, days) {
    const d = new Date();
    d.setTime(d.getTime() + (days*24*60*60*1000));
    const expires = "expires=" + d.toUTCString();
    document.cookie = name + "=" + value + ";" + expires + ";path=/";
  }

  // Fonction pour lire un cookie
  function getCookie(name) {
    const decodedCookie = decodeURIComponent(document.cookie);
    const ca = decodedCookie.split(';');
    name = name + "=";
    for (let i = 0; i < ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0) === ' ') {
        c = c.substring(1);
      }
      if (c.indexOf(name) === 0) {
        return c.substring(name.length, c.length);
      }
    }
    return "";
  }

  // Afficher la popup si l'utilisateur n'a pas encore donné son consentement
  if (!getCookie('cookieConsent')) {
    cookieConsent.style.display = 'block';
  }

  // Lorsque l'utilisateur accepte les cookies
  acceptCookiesBtn.addEventListener('click', function() {
    setCookie('cookieConsent', 'accepted', 365);
    cookieConsent.style.display = 'none';
    // Vous pouvez ajouter ici des scripts ou activer des fonctionnalités de cookies si nécessaire
    console.log('Cookies accepted');
  });

  // Lorsque l'utilisateur refuse les cookies
  declineCookiesBtn.addEventListener('click', function() {
    setCookie('cookieConsent', 'declined', 365);
    cookieConsent.style.display = 'none';
    // Vous pouvez désactiver certains scripts ou fonctionnalités qui utilisent des cookies ici
    console.log('Cookies declined');
  });
</script>
 
<script>
  let deferredPrompt;
  const addBtn = document.querySelector('.add-to-home-btn');
  
  // Détecter iOS
  const isIos = () => {
    const userAgent = window.navigator.userAgent.toLowerCase();
    return /iphone|ipad|ipod/.test(userAgent);
  }

  // Vérifier si l'utilisateur est sur iOS
  const isInStandaloneMode = () => ('standalone' in window.navigator) && (window.navigator.standalone);

  if (isIos() && !isInStandaloneMode()) {
    // Afficher un message personnalisé pour les utilisateurs iOS
    addBtn.style.display = 'block';
    addBtn.textContent = 'Ajouter à l\'écran d\'accueil';
    
    addBtn.addEventListener('click', () => {
      alert('Pour ajouter cette application à votre écran d\'accueil : \n1. Cliquez sur l\'icône de partage en bas de l\'écran. \n2. Sélectionnez "Ajouter à l\'écran d\'accueil".');
    });
  } else {
    // Cacher le bouton par défaut
    addBtn.style.display = 'none';

    // Écouter l'événement beforeinstallprompt (fonctionne pour Android et autres)
    window.addEventListener('beforeinstallprompt', (e) => {
      // Empêcher l'affichage automatique de la bannière d'installation
      e.preventDefault();
      // Stocker l'événement pour déclencher plus tard
      deferredPrompt = e;
      // Afficher le bouton
      addBtn.style.display = 'block';

      addBtn.addEventListener('click', () => {
        // Cacher le bouton après le clic
        addBtn.style.display = 'none';
        // Afficher la bannière d'installation native
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then((choiceResult) => {
          if (choiceResult.outcome === 'accepted') {
            console.log('L\'utilisateur a accepté d\'installer l\'application');
          } else {
            console.log('L\'utilisateur a refusé d\'installer l\'application');
          }
          deferredPrompt = null;
        });
      });
    });
  }

  // Optionnel : surveiller si l'application a été installée
  window.addEventListener('appinstalled', (evt) => {
    console.log('L\'application a été installée');
  });
</script>



  <script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
      navigator.serviceWorker.register('/service-worker.js')
        .then(function(registration) {
          console.log('Service Worker registered with scope:', registration.scope);
        }, function(err) {
          console.log('Service Worker registration failed:', err);
        });
    });
  }
</script>
